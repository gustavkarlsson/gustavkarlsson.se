@import "base";

/* ==========================================================================
   Pre-defined values
   ========================================================================== */

// Compass settings
$default-has-layout-approach: block;

// Colors
$black-see-through: rgba(0, 0, 0, 0.75);
$almost-white: #f0f0f0;
$almost-black: #2e2d2d;
$red: #b93928;
$blue: #2b5fbb;
$yellow: #ffe57e;
$light-font-color: $almost-white;
$dark-font-color: $almost-black;

// Fonts
$open-sans: "Open Sans", sans-serif;
$source-sans-pro: "Source Sans Pro", sans-serif;

// Breakpoints
$medium-breakpoint: 430px;
$large-breakpoint: 900px;
$huge-breakpoint: 1200px;
$section-centering-width: 960px;

/* ==========================================================================
   Mixins
   ========================================================================== */

@mixin breakpoint-medium {
	@media screen and (min-width: $medium-breakpoint) {
		@content;
	}
}

@mixin breakpoint-large {
	@media screen and (min-width: $large-breakpoint) {
		@content;
	}
}

@mixin breakpoint-huge {
	@media screen and (min-width: $huge-breakpoint) {
		@content;
	}
}

@mixin hover-expand-brackets($before: "[", $after: "]", $amount: 10px) {
	&::before, &::after {
		display: inline-block;
		opacity: 0;
		@include transition(transform 0.3s, opacity 0.2s);
	}
	&::before {
		margin-right: $amount;
		content: $before;
		@include translateX($amount * 2);
	}
	&::after {
		margin-left: $amount;
		content: $after;
		@include translateX(-$amount * 2);
	}
	&:hover::before,
	&:hover::after,
	&:focus::before,
	&:focus::after {
		opacity: 1;
		@include translateX(0px);
	}
}

/* ==========================================================================
   Classes
   ========================================================================== */

.center {
	margin: {
		left: auto;
		right: auto;
	};
}

/* ==========================================================================
   Layout
   ========================================================================== */
html {
	p, h1, h2, h3, h4, h5 {
		line-height: 130%;
		margin: {
			top: 0.5em;
			bottom: 0.5em;
		};
	}
	a {
		color: inherit;
	}
	$base-font-size: 100%;
	font: {
		family: $open-sans;
		size: $base-font-size;
	};
	@include breakpoint-medium {
		font-size: $base-font-size * 1.2;
	}

	@include breakpoint-large {
		font-size: $base-font-size * 1.4;
	}

	#browsehappy {
		margin: 0.2em 0;
		background: #ccc;
		color: #000;
		padding: 0.2em 0;
	}
	header {
		$header-foreground-color: $light-font-color;
		z-index: 10;
		background-color: $black-see-through;
		$header-ver-padding: 24px;
		position: absolute;
		width: 100%;
		padding: {
			top: $header-ver-padding;
			bottom: $header-ver-padding;
		};
		@include breakpoint-medium {
			position: fixed;
		}

		@include breakpoint-large {
			$header-hor-padding: 5%;
			width: 100% - $header-hor-padding * 2;
			padding: {
				left: $header-hor-padding;
				right: $header-hor-padding;
			};
		}

		#header-centering {
			@extend .center;
			@include clearfix;
			width: 100%;
			max-width: $huge-breakpoint;
		}
		h1 {
			margin: inherit;
			color: $header-foreground-color;
			line-height: inherit;
			font: {
				family: $source-sans-pro;
				weight: bold;
				size: 28px;
			};
			text-align: center;
			@include breakpoint-medium {
				font-size: 38px;
			}

			@include breakpoint-large {
				float: left;
			}
		}
		nav {
			text-align: center;
			margin-top: 10px;
			@include breakpoint-large {
				float: right;
				margin-top: 2px;
			}

			li {
				@include breakpoint-medium {
					display: inline-block;
				}
			}
			a {
				display: block;
				color: $header-foreground-color * 0.7;
				padding: 7px 0 7px 0;
				text-decoration: none;
				font: {
					family: $source-sans-pro;
					size: 20px;
				};
				@include breakpoint-medium {
					font-size: 22px;
					@include transition(color 0.2s linear);
					&.active {
						color: $header-foreground-color * 1.2;
					}
				}

				@include hover-expand-brackets("[", "]");
			}
		}
	}
	section {
		$section-vertical-padding-small: 100px;
		$section-vertical-padding-first-small: 250px;
		$section-vertical-padding-medium: 150px;
		$section-vertical-padding-first-medium: 200px;
		$section-vertical-padding-large: 200px;
		$section-vertical-padding-first-large: 250px;
		text-align: center;
		padding: {
			top: $section-vertical-padding-small;
			bottom: $section-vertical-padding-small;
		};
		&:first-of-type {
			padding-top: $section-vertical-padding-first-small;
		}
		@include breakpoint-medium {
			padding: {
				top: $section-vertical-padding-medium;
				bottom: $section-vertical-padding-medium;
			};
			&:first-of-type {
				padding-top: $section-vertical-padding-first-medium;
			}
		}

		@include breakpoint-large {
			padding: {
				top: $section-vertical-padding-large;
				bottom: $section-vertical-padding-large;
			};
			&:first-of-type {
				padding-top: $section-vertical-padding-first-large;
			}
		}

		h1 {
			font: {
				family: "Source Sans Pro", sans-serif;
				weight: 200;
				size: 2.5em;
			};
			@include breakpoint-medium {
				font-size: 3em;
			}

			@include breakpoint-large {
				font-size: 3.5em;
			}
		}
		a {
			@include transition(color 0.3s);
		}
		.section-centering {
			@extend .center;
			width: $section-centering-width;
			max-width: 90%;
		}
		&#home {
			padding-bottom: 0;
			background: {
				image: url("/img/aurora1.jpg");
				repeat: no-repeat;
				position-x: center;
				position-y: bottom;
			};
			@include background-size(cover);
			color: $light-font-color;
			text-shadow: 1px 1px 2px black;
			h1 {
				font-size: 3em;
				@include breakpoint-medium {
					font-size: 3.5em;
				}

				@include breakpoint-large {
					font-size: 4em;
				}
			}
			a {
				color: lighten($blue, 25%);
				&:hover {
					color: lighten($blue, 10%);
				}
			}
			#photo {
				$home-picture-size-default: 100px;
				$home-picture-top-margin-default: 25px;
				$border-width: 5px;
				margin-bottom: -($home-picture-size-default / 2) - $border-width;
				margin-top: 50px;
				width: $home-picture-size-default;
				height: $home-picture-size-default;
				@include border-radius($home-picture-size-default / 2 + $border-width);
				border-width: $border-width;
				border-style: solid;
				border-color: $almost-white;
				@include breakpoint-medium {
					$home-picture-size-medium: $home-picture-size-default * 1.5;
					margin-top: 100px;
					margin-bottom: -($home-picture-size-medium / 2) - $border-width;
					width: $home-picture-size-medium;
					height: $home-picture-size-medium;
					@include border-radius($home-picture-size-medium / 2 + $border-width);
				}

				@include breakpoint-large {
					$home-picture-size-large: $home-picture-size-default * 2;
					margin-top: 200px;
					margin-bottom: -($home-picture-size-large / 2) - $border-width;
					width: $home-picture-size-large;
					height: $home-picture-size-large;
					@include border-radius($home-picture-size-large / 2 + $border-width);
				}
			}
		}
		&#coding {
			#languages {
				@extend .center;
				img {
					&:hover {
						@include scale(1.2);
					}
					height: auto;
					width: 50px;
					margin: 5px;
					@include breakpoint-medium {
						width: 70px;
						margin: 7px;
					}

					@include breakpoint-large {
						width: 100px;
						margin: 10px;
					}
				}
			}
			background-color: $almost-white;
			color: $dark-font-color;
			a {
				color: $blue;
				&:hover {
					color: darken($blue, 30%);
				}
			}
		}
		&#cv {
			background-color: $blue;
			color: $light-font-color;
			$cv-content-background-color: $almost-white;
			#cv-wrapper {
				height: 0;
				// Expands with click
				overflow: hidden;
				position: relative;
				#cv-content {
					position: absolute;
					bottom: 0;
					background-color: $cv-content-background-color;
					color: $dark-font-color;
					padding: 30px;
					@include breakpoint-medium {
						padding: 50px;
					}

					@include breakpoint-large {
						padding: 70px;
					}
				}
			}
			#cv-arrow {
				margin-left: auto;
				margin-right: auto;
				width: 0;
				height: 0;
				border-style: solid;
				border-color: $cv-content-background-color transparent transparent transparent;
				cursor: pointer;
				border-width: 18px 24px 0 24px;
				@include breakpoint-medium {
					border-width: 24px 32px 0 32px;
				}

				@include breakpoint-large {
					border-width: 30px 40px 0 40px;
				}
			}
		}
		&#contact {
			background-color: $almost-black;
			color: $light-font-color;
			ul.social {
				margin: 0;
				padding: 0;
				text-align: center;
				li {
					display: inline-block;
					margin: {
						left: 3px;
						right: 3px;
					};
					@include breakpoint-medium {
						margin: {
							left: 5px;
							right: 5px;
						};
					}

					@include breakpoint-large {
						margin: {
							left: 8px;
							right: 8px;
						};
					}

					a {
						$social-size-default: 32px;
						display: block;
						margin: 0;
						overflow: hidden;
						width: $social-size-default;
						height: $social-size-default;
						background-repeat: no-repeat;
						background-size: cover;
						@include sprite-column(1, $social-size-default);
						@include hide-text;
						&:hover {
							@include sprite-column(2, $social-size-default);
						}
						@include breakpoint-medium {
							$social-size-medium: 40px;
							width: $social-size-medium;
							height: $social-size-medium;
							@include sprite-column(1, $social-size-medium);
							&:hover {
								@include sprite-column(2, $social-size-medium);
							}
						}

						@include breakpoint-large {
							$social-size-large: 55px;
							width: $social-size-large;
							height: $social-size-large;
							@include sprite-column(1, $social-size-large);
							&:hover {
								@include sprite-column(2, $social-size-large);
							}
						}
					}
				}
			}
		}
	}
}

/* ==========================================================================
   no-js fallbacks
   ========================================================================== */

html.no-js section#cv .section-centering {
	#cv-wrapper {
		height: inherit;
		position: inherit;
		#cv-content {
			position: inherit;
		}
	}
	#cv-arrow {
		display: none;
	}
}
